# 競馬解説アプリ - 要件確認

以下の質問に回答を記入してください。回答後、このファイルを保存してClaude Codeに戻ってください。

## 1. アプリの形態
このアプリは何で実装したいですか?

**回答**: [webアプリ。スマホからの使用。]

選択肢:
- Webアプリ(ブラウザベース)
- CLIツール
- デスクトップアプリ
- その他(具体的に記入)

---

## 2. 使用するLLM
どのLLMを使用する予定ですか?

**回答**: [OpenAI GPT-5]

選択肢:
- OpenAI GPT-4/GPT-3.5
- Claude (Anthropic)
- ローカルLLM
- その他(具体的に記入)

---

## 3. 解析の詳細度
出走馬の解析について、どの程度のデータを使いたいですか?(複数選択可)

**回答**: [
    - 出走馬の情報
        - 過去の成績（着順、タイム）
        - 過去の出走のレース距離
        - 全レースとの空き期間
        - 騎手・調教師の成績
    - 1世代前の親馬の情報
        - 獲得賞金
        - 親馬の通算成績(1着数、2着数、3着数)
    ]

選択肢:
- 過去の成績(着順、タイム)
- 血統情報
- 騎手・調教師の成績
- 馬場状態・天候との相性
- オッズ情報
- その他(具体的に記入)

---

## 4. 対象レース
どのレースを解析対象にしますか?

**回答**: [特定のレースを指定して解析スタート]

選択肢:
- 当日の全レース
- 特定のレースを指定
- 重賞レースのみ
- その他(具体的に記入)

---

## 5. 技術スタック
希望する技術はありますか?

### プログラミング言語
**回答**: [Python]
(例: Python, TypeScript, JavaScript, など)

### スクレイピングライブラリ
**回答**: [request,selenium]
(例: Playwright, Puppeteer, Beautiful Soup, Scrapy, など)

### その他の制約や希望
**回答**: [ローカルではなく、クラウドにデプロイしてURLを払い出したい]

---

## 6. その他の要望
上記以外に、実装したい機能や制約があれば記入してください。

**回答**: [解析する際にユーザーが任意のプロンプトを入れれるようにして、より柔軟性のある解析ができるようにしてほしい。また、スクレイピング結果はデータに残して使用できるようにしたい。nosqlで保管する形で問題ないと考えている。]

---

# 追加確認事項

以下の点について、さらに詳しく教えてください。

## 7. レース指定の方法
特定のレースを指定する際、ユーザーはどのように指定しますか?

**回答**: [日付と競馬場とレース番号を入力。プルダウン形式で表示したい]

選択肢:
- レースURLを入力 (例: https://race.netkeiba.com/race/shutuba.html?race_id=...)
- 日付と競馬場とレース番号を入力 (例: 2024-10-18, 東京, 11R)
- レース名を入力 (例: 第90回日本ダービー)
- その他(具体的に記入)

---

## 8. 解析結果の表示
LLMによる解析結果はどのように表示したいですか?

**回答**: [
    以下3点を表示したい
    - 各馬ごとに強み・弱点をリスト表示
    - 馬同士の比較分析
    - おすすめの馬をランキング形式で表示
]

選択肢:
- 各馬ごとに強み・弱点をリスト表示
- 馬同士の比較分析
- おすすめの馬をランキング形式で表示
- レポート形式で長文表示
- その他(具体的に記入)

---

## 9. スクレイピングのタイミング
データの取得タイミングはどうしますか?

**回答**: [レース指定後、リアルタイムでスクレイピング。キャッシュがあれば使用する]

選択肢:
- レース指定後、リアルタイムでスクレイピング (その場でデータ取得)
- 事前に定期的にデータを収集しておく (バッチ処理)
- 両方のハイブリッド (キャッシュがあれば使い、なければ取得)
- その他(具体的に記入)

---

## 10. クラウド環境
希望するクラウドプラットフォームはありますか?

**回答**: [AWS内で適していると思われるサービスを提案して。コストも一緒に教えて]

選択肢:
- AWS (EC2, Lambda, ECS, など)
- GCP (Cloud Run, App Engine, など)
- Azure
- Vercel / Netlify (フロントエンド) + バックエンド別途
- Railway / Render / Fly.io
- 特に希望なし (提案してほしい)
- その他(具体的に記入)

---

## 11. NoSQLデータベース
希望するNoSQLデータベースはありますか?

**回答**: [DynamoDB]

選択肢:
- MongoDB (Atlas)
- DynamoDB (AWS)
- Firestore (GCP)
- Redis (キャッシュ + 永続化)
- 特に希望なし (提案してほしい)
- その他(具体的に記入)

---

## 12. 認証・ユーザー管理
ユーザーアカウント機能は必要ですか?

**回答**: [パスワードのみ。パスワードは僕が使用してもらう人に直接教えるため発行システムは不要。簡易的にハードコーディングする。]

選択肢:
- 不要 (誰でも使える公開アプリ)
- 必要 (ログイン機能が必要)
- 簡易認証のみ (パスワード1つで保護する程度)
- 将来的には必要だが、まずは不要
- その他(具体的に記入)

---

## 13. Webフレームワーク
PythonのWebフレームワークはどれを使いたいですか?

**回答**: [Streamlit]

選択肢:
- Flask (軽量・シンプル)
- FastAPI (高速・モダン・API向け)
- Django (フルスタック・管理画面付き)
- Streamlit (データアプリ特化・超簡単)
- 特に希望なし (提案してほしい)
- その他(具体的に記入)
